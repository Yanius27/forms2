{"version":3,"file":"main.js","mappings":"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","sources":["webpack://forms2/./src/js/components/Container.js","webpack://forms2/./src/js/components/Table.js","webpack://forms2/./src/js/components/PopOver.js","webpack://forms2/./src/js/components/DeleteMessage.js","webpack://forms2/./src/index.js","webpack://forms2/./src/js/App.js"],"sourcesContent":["export default class Container {\n  constructor() {\n    this._element;\n    this.createElements();\n  }\n\n  createElements() {\n    const container = document.createElement('div');\n    container.classList.add('container');\n\n    const productsTitle = document.createElement('span');\n    productsTitle.textContent = 'Товары';\n\n    const addIcon = document.createElement('button');\n    addIcon.classList.add('addIcon');\n    addIcon.textContent = '+';\n\n    const containerHeader = document.createElement('div');\n    containerHeader.classList.add('header');\n\n    containerHeader.appendChild(productsTitle);\n    containerHeader.appendChild(addIcon);\n    container.appendChild(containerHeader);\n\n    this.containerMask = document.createElement('div');\n    this.containerMask.classList.add('container_mask');\n    document.body.appendChild(this.containerMask);\n\n    this._element = container;\n  }\n\n  // Обработчик клика по кнопке добавления продукта\n  listener(popOver) {\n    this._element.querySelector('.addIcon').addEventListener('click', () => {\n      this.containerMask.classList.add('mask_active');\n      popOver.classList.remove('popOver_inactive');\n      popOver.classList.add('popOver_active');\n    });\n  }\n\n  get element() {\n    return this._element;\n  }\n}\n","export default class Table {\n  constructor() {\n    this._element;\n    this.createTable();\n  }\n\n  createTable() {\n    const table = document.createElement('table');\n    table.classList.add('table');\n    const tHead = document.createElement('thead');\n    tHead.classList.add('tHead');\n    const tBody = document.createElement('tbody');\n    tBody.classList.add('tBody');\n\n    const headRow = document.createElement('tr');\n\n    const nameTh = document.createElement('th');\n    nameTh.textContent = 'Название';\n    const priceTh = document.createElement('th');\n    priceTh.textContent = 'Стоимость';\n    const actionTh = document.createElement('th');\n    actionTh.textContent = 'Действия';\n\n    headRow.appendChild(nameTh);\n    headRow.appendChild(priceTh);\n    headRow.appendChild(actionTh);\n\n    tHead.appendChild(headRow);\n    table.appendChild(tHead);\n    table.appendChild(tBody);\n\n    this._element = table;\n  }\n\n  createProduct(name, price, id) {\n    const tr = document.createElement('tr');\n    tr.classList.add('product');\n    tr.setAttribute('id', id);\n\n    const nameTd = document.createElement('td');\n    nameTd.textContent = name;\n\n    const priceTd = document.createElement('td');\n    priceTd.textContent = price;\n\n    const actionTd = document.createElement('td');\n    actionTd.classList.add('actionTd');\n\n    const editIcon = document.createElement('div');\n    editIcon.classList.add('productIcon');\n    editIcon.classList.add('editIcon');\n\n    const deleteIcon = document.createElement('div');\n    deleteIcon.classList.add('productIcon');\n    deleteIcon.classList.add('deleteIcon');\n\n    actionTd.appendChild(editIcon);\n    actionTd.appendChild(deleteIcon);\n\n    tr.appendChild(nameTd);\n    tr.appendChild(priceTd);\n    tr.appendChild(actionTd);\n    document.querySelector('.tBody').appendChild(tr);\n  }\n\n  get element() {\n    return this._element;\n  }\n}\n","export default class PopOver {\n  constructor() {\n    this._element;\n    this.createElement();\n  }\n\n  createElement() {\n    const popOver = document.createElement('div');\n    popOver.classList.add('popOver_inactive');\n\n    const popOverForm = document.createElement('form');\n    popOverForm.classList.add('popOver_form');\n    popOverForm.setAttribute('novalidate', '');\n\n    const inputsContainer = document.createElement('div');\n    inputsContainer.classList.add('inputsContainer');\n\n    const nameLabel = document.createElement('label');\n    nameLabel.textContent = 'Название';\n    nameLabel.classList.add('nameLabel');\n    nameLabel.setAttribute('for', 'productNameInput');\n\n    const nameInput = document.createElement('input');\n    nameInput.setAttribute('type', 'text');\n    nameInput.setAttribute('name', 'productName');\n    nameInput.setAttribute('id', 'productNameInput');\n    nameInput.setAttribute('required', '');\n\n    const priceLabel = document.createElement('label');\n    priceLabel.textContent = 'Стоимость';\n    priceLabel.classList.add('priceLabel');\n    priceLabel.setAttribute('for', 'productPriceInput');\n\n    const priceInput = document.createElement('input');\n    priceInput.setAttribute('name', 'productPrice');\n    priceInput.setAttribute('id', 'productPriceInput');\n    priceInput.setAttribute('pattern', '^[1-9][0-9]+$');\n    priceInput.setAttribute('required', '');\n\n    inputsContainer.appendChild(nameLabel);\n    inputsContainer.appendChild(nameInput);\n    inputsContainer.appendChild(priceLabel);\n    inputsContainer.appendChild(priceInput);\n\n    const buttonsContainer = document.createElement('div');\n    buttonsContainer.classList.add('buttonsContainer');\n\n    const saveButton = document.createElement('button');\n    saveButton.textContent = 'Сохранить';\n    saveButton.classList.add('saveButton');\n    saveButton.classList.add('btn');\n    saveButton.setAttribute('type', 'submit');\n\n    const abortButton = document.createElement('button');\n    abortButton.textContent = 'Отмена';\n    abortButton.classList.add('abortButton');\n    abortButton.classList.add('btn');\n    abortButton.setAttribute('type', 'button');\n\n    buttonsContainer.appendChild(saveButton);\n    buttonsContainer.appendChild(abortButton);\n\n    popOverForm.appendChild(inputsContainer);\n    popOverForm.appendChild(buttonsContainer);\n\n    popOver.appendChild(popOverForm);\n\n    this._element = popOver;\n  }\n\n  get element() {\n    return this._element;\n  }\n}\n","export default class DeleteMessage {\n  constructor() {\n    this.createElement();\n  }\n\n  createElement() {\n    const messageContainer = document.createElement('div');\n    messageContainer.classList.add('messageContainer_inactive');\n\n    const messageSpan = document.createElement('span');\n    messageSpan.classList.add('messageSpan');\n    messageSpan.textContent = 'Вы уверены, что хотите удалить этот товар?';\n\n    const buttonsContainer = document.createElement('div');\n    buttonsContainer.classList.add('buttonsContainer');\n\n    const okButton = document.createElement('button');\n    okButton.classList.add('btn');\n    okButton.classList.add('ok');\n    okButton.textContent = 'Ok';\n\n    const cancelButton = document.createElement('button');\n    cancelButton.classList.add('btn');\n    cancelButton.classList.add('cancel');\n    cancelButton.textContent = 'Cancel';\n\n    buttonsContainer.appendChild(okButton);\n    buttonsContainer.appendChild(cancelButton);\n\n    messageContainer.appendChild(messageSpan);\n    messageContainer.appendChild(buttonsContainer);\n\n    this._element = messageContainer;\n  }\n\n  get element() {\n    return this._element;\n  }\n}\n","import App from './js/App';\nimport styles from './css/styles.css';\n\nconst app = new App();\n","import Container from './components/Container';\nimport Table from './components/Table';\nimport PopOver from './components/PopOver';\nimport DeleteMessage from './components/DeleteMessage';\n\n// Это альтернативный варинт вывода сообщения об ошибке при валидации\n// import Tooltip from './components/Tooltip';\n\nexport default class App {\n  constructor() {\n    this.container = new Container();\n    this.table = new Table();\n    this.popOver = new PopOver();\n    this.deleteMessage = new DeleteMessage();\n    // this.tooltip = new Tooltip();\n    this.storage = localStorage;\n\n    this.errors = {\n      productName: {\n        valueMissing: 'Введите наименование товара',\n      },\n      productPrice: {\n        valueMissing: 'Введите стоимость товара',\n        patternMismatch: 'Введите положительное натуральное число',\n      },\n    };\n\n    this.init();\n  }\n\n  // Инициализация проекта, доьавление обработчиков событий\n  init() {\n    this.drawElements();\n    this.products = this.getStorage() ? this.getStorage() : [];\n    if (this.products.length) {\n      this.drawProducts();\n    }\n  }\n\n  // Отрисовка контейнера и таблицы\n  drawElements() {\n    this.container.element.appendChild(this.table.element);\n    document.body.appendChild(this.container.element);\n    document.querySelector('.container').appendChild(this.popOver.element);\n    this.form = Array.from(document.forms[0]);\n    this.container.listener(this.popOver.element);\n    this.formListeners();\n    document.querySelector('.container').appendChild(this.deleteMessage.element);\n  }\n\n  // Обрабочтик событий для иконок редактирования и удаления продуктов\n  editAndRemoveButtonsListeners() {\n    this.productsIcons = Array.from(this.table.element.querySelectorAll('.productIcon'));\n    if (this.productsIcons.length) {\n      this.productsIcons.forEach((icon) => {\n        icon.addEventListener('click', (e) => {\n          this.editOrDeleteProduct.bind(this)(e.target);\n        });\n      });\n    }\n  }\n\n  // Обрабочтики событий формы\n  formListeners() {\n    const form = document.querySelector('.popOver_form');\n    form.addEventListener('submit', (e) => {\n      e.preventDefault();\n      const { elements } = form;\n      const invalid = [...elements].some((el) => {\n        if (!el.validity.valueMissing && !el.validity.patternMismatch) {\n          el.setCustomValidity('');\n        }\n        return Object.keys(ValidityState.prototype).some((key) => {\n          if (!el.name) return;\n          if (key === 'valid') return;\n          if (key === 'customError') return;\n          if (el.validity[key]) {\n            // console.dir(el);\n            // this.tooltip.element = this.errors[el.name][key];\n            // el.after(this.tooltip.element);\n            el.setCustomValidity(this.errors[el.name][key]);\n            return true;\n          }\n        });\n      });\n\n      if (invalid) {\n        console.dir(elements);\n        form.reportValidity();\n        return;\n      }\n      this.addOrEditProduct.bind(this)(e.type);\n    });\n    form.querySelector('.abortButton').addEventListener('click', this.addOrEditProduct.bind(this));\n  }\n\n  // Обработчик событий для всплывающего сообщения с подтверждением удаления продукта\n  deleteMessageListener(product) {\n    const buttons = Array.from(this.deleteMessage.element.querySelectorAll('.btn'));\n    buttons.forEach((btn) => {\n      btn.addEventListener('click', () => {\n        if (btn.classList.contains('ok')) {\n          this.products = this.products.filter((el) => el.id !== product.id);\n          this.setStorage();\n          this.drawProducts();\n        }\n        this.deleteMessage.element.classList.remove('messageContainer_active');\n        this.deleteMessage.element.classList.add('messageContainer_inactive');\n      });\n    });\n  }\n\n  // Добавление нового продукта в массив\n  addOrEditProduct(e) {\n    const productIcons = Array.from(document.querySelectorAll('.productIcon'));\n    const editIconActive = productIcons.find((el) => el.classList.contains('editIcon_active'));\n    let editProduct;\n    if (editIconActive) {\n      editProduct = editIconActive.parentNode.parentNode;\n    }\n    if (editIconActive && e === 'click') {\n      editProduct.childNodes[2].childNodes[0].classList.remove('editIcon_active');\n    } else if (editIconActive && e === 'submit') {\n      const editElementofArr = this.products.find((el) => el.id === editProduct.id);\n      editElementofArr.name = this.form[0].value;\n      editElementofArr.price = this.form[1].value;\n      editProduct.childNodes[2].childNodes[0].classList.remove('editIcon_active');\n      this.setStorage();\n      this.drawProducts();\n    } else if (!editIconActive && e === 'submit') {\n      const id = `${Math.floor(Math.random() * 10000)}${Math.floor(Math.random() * 10000)}${Math.floor(Math.random() * 10000)}`;\n      this.products.push({\n        name: this.form[0].value,\n        price: this.form[1].value,\n        id,\n      });\n      this.setStorage();\n      this.drawProducts();\n    }\n    this.container.containerMask.classList.remove('mask_active');\n    this.popOver.element.classList.remove('popOver_active');\n    this.popOver.element.classList.add('popOver_inactive');\n    this.form.forEach((el) => el.value = '');\n  }\n\n  // Отрисовка всех продуктов\n  drawProducts() {\n    document.querySelector('.tBody').innerHTML = '';\n    this.products.forEach((el) => {\n      this.table.createProduct(el.name, el.price, el.id);\n    });\n    this.editAndRemoveButtonsListeners();\n  }\n\n  // Сохранение всех продуктов из массива в localStorage\n  setStorage() {\n    this.storage.setItem('products', JSON.stringify(this.products));\n  }\n\n  // Извлечение данных из localStorage\n  getStorage() {\n    return JSON.parse(this.storage.getItem('products'));\n  }\n\n  // Редактирование или удаление продукта\n  editOrDeleteProduct(icon) {\n    if (icon.classList.contains('editIcon')) {\n      icon.classList.add('editIcon_active');\n      this.container.containerMask.classList.add('mask_active');\n      this.popOver.element.classList.remove('popOver_inactive');\n      this.popOver.element.classList.add('popOver_active');\n      document.forms[0][0].value = icon.parentNode.parentNode.childNodes[0].textContent;\n      document.forms[0][1].value = icon.parentNode.parentNode.childNodes[1].textContent;\n    } else {\n      this.deleteMessage.element.classList.remove('messageContainer_inactive');\n      this.deleteMessage.element.classList.add('messageContainer_active');\n      this.deleteMessageListener(icon.parentNode.parentNode);\n    }\n  }\n}\n"],"names":["Container","constructor","this","_element","createElements","container","document","createElement","classList","add","productsTitle","textContent","addIcon","containerHeader","appendChild","containerMask","body","listener","popOver","querySelector","addEventListener","remove","element","Table","createTable","table","tHead","tBody","headRow","nameTh","priceTh","actionTh","createProduct","name","price","id","tr","setAttribute","nameTd","priceTd","actionTd","editIcon","deleteIcon","PopOver","popOverForm","inputsContainer","nameLabel","nameInput","priceLabel","priceInput","buttonsContainer","saveButton","abortButton","DeleteMessage","messageContainer","messageSpan","okButton","cancelButton","deleteMessage","storage","localStorage","errors","productName","valueMissing","productPrice","patternMismatch","init","drawElements","products","getStorage","length","drawProducts","form","Array","from","forms","formListeners","editAndRemoveButtonsListeners","productsIcons","querySelectorAll","forEach","icon","e","editOrDeleteProduct","bind","target","preventDefault","elements","some","el","validity","setCustomValidity","Object","keys","ValidityState","prototype","key","console","dir","reportValidity","addOrEditProduct","type","deleteMessageListener","product","btn","contains","filter","setStorage","editIconActive","find","editProduct","parentNode","childNodes","editElementofArr","value","Math","floor","random","push","innerHTML","setItem","JSON","stringify","parse","getItem"],"sourceRoot":""}